function isMobile(){var e=navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i);return e?!0:!1}function type(e){var t={},n=t.toString,r=t.hasOwnProperty;return e==null?String(e):typeof e=="object"||typeof e=="function"?t[n.call(e)]||"object":typeof e}function isPlainObject(e){function t(e){return e!=null&&e===e.window}var n={},r=n.toString,i=n.hasOwnProperty;if(type(e)!=="object"||e.nodeType||t(e))return!1;try{if(e.constructor&&!i.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(s){return!1}return!0}function extend(){var e,t,n,r,i,s,o=arguments[0]||{},u=1,a=arguments.length,f=!1;typeof o=="boolean"&&(f=o,o=arguments[1]||{},u=2),typeof o!="object"&&!this.isFunction(o)&&(o={}),a===u&&(o=this,--u);for(;u<a;u++)if((e=arguments[u])!=null)for(t in e){n=o[t],r=e[t];if(o===r)continue;f&&r&&(isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,s=n&&this.isArray(n)?n:[]):s=n&&isPlainObject(n)?n:{},o[t]=this.extend(f,s,r)):r!==undefined&&(o[t]=r)}return o}function getStyle(e,t,n){var r=getComputedStyle(e)[t];return n?parseInt(r):r}function E(e,t,n){t||(t="load"),n||(n=window),n.attachEvent?n.attachEvent("on"+t,e):n.addEventListener(t,e,!1)}function getTarget(e){var t=e||window.event,n=t.target||t.srcElement;return n}function E_Click(e,t){var n=null,r=!0;E(function(e){n=getTarget(e)},START,t),E(function(e){r=!1},MOVE,t),E(function(t){if(r){var i=getTarget(t);n===i&&e(t,i)}n=null,r=!0},END,t)}function getPointOnCanvas(e,t){var n=e.getBoundingClientRect(),r=0,i=0;if(isM){var s=t.touches[0];r=s.clientX,i=s.clientY}else r=t.pageX,i=t.pageY;return{x:r-n.left*(e.width/n.width),y:i-n.top*(e.height/n.height)}}function ajax(e){var t=/POST/i.test(e.type),n=e.data||"",r=e.dataType,i=e.url||location.href,s=/\?/.test(i)?"&":"?",o=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Msxml2.XMLHTTP")||new ActiveXObject("Microsoft.XMLHTTP"),u=function(n){o.readyState==4&&(o.status==200?(n=o.responseText,r=="json"&&(n=json(n)),(t=e.success)&&t(n)):e.error&&e.error(o.status,o))};o.onreadystatechange=u;if(typeof n=="object"){var a=[];for(var f in n)a.push(encodeURIComponent(f)+"="+encodeURIComponent(n[f]));n=a.join("&")}return o.open(t?"POST":"GET",i+(t?"":(n?s:"")+n+(e.cache?"":(!n&&s=="?"?"?":"&")+"_="+(new Date).getTime())),e.async===!1?!1:!0),t&&o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(n),o}function stopDefault(e){e.preventDefault(),e.stopPropagation()}var isM=isMobile(),START=isM?"touchstart":"mousedown",MOVE=isM?"touchmove":"mousemove",END=isM?"touchend":"mouseup"
