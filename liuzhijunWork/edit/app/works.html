<!DOCTYPE html>
<html>
<head lang="zh_cn">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=320, user-scalable=no, initial-scale=1.0, maximum-scale=1.0">
    <title>My Works</title>
    <link href="/styles/reset.css" rel="stylesheet" />
    <link href="/styles/works.css" rel="stylesheet" />
	<script src="/src/JunTemplate.js"></script>
</head>
<body>
	<article>
		<div class="width-wrapper">
			<ul id="articleList" class="article_list">
				<script type="text/template" id="articleTemplate">
					<%data.forEach(function(item,index){%>
						<li>
							<div class="iframe-wrap">
								<a href="/pen/<%=item.pid%>" class="cover-link"></a>
								<iframe src="/pen/<%=item.pid%>?type=iframe" frameborder="0" scrolling="no" onload=this.classList.add("loaded")></iframe>
								<div class="meta-title">
									<h2><%=item.title%></h2>
									<p><%=item.desc%></p>
								</div>
							</div>
							<div class="meta">
								<div class="meta-title"><%=item.title%></div>
								<div class="meta-udate"><%=item.udate%></div>
							</div>
						</li>
					<%});%>
				</script>
			</ul>
		</div>
	</article>
</body>
<script>
	var pro = ajax({url:'/pen/list',type:'get'});
		pro.then(function(data){
			if(!data || !data.length) return;
			applyTemplate(data,'articleTemplate',G('articleList'),true);
		});
</script>
